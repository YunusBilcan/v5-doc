---
title: Sepette Extra İndirim
---
## Ürün extra indirim
```html title="smarty"



{if $P.NUMERIC1}                                                
    <div class="px-1 extra-discount fw-bold" data-extra="{$P.NUMERIC1}">
    Sepette
        {if $P.DISPLAY_VAT === "1"}
            <strong class="cart-price">{{vat price=($P.PRICE_SELL - ($P.PRICE_SELL * $P.NUMERIC1/100)) vat=$P.VAT}}</strong> {$P.TARGET_CURRENCY}
        {else}
            <strong class="cart-price"> {format price=($P.PRICE_SELL - ($P.PRICE_SELL * $P.NUMERIC1/100))}</strong> {$P.TARGET_CURRENCY} +{#vat#}
        {/if}
    </div>
{/if}




    {foreach from=$SUB_LIST item=SUB name=variant}
        <a href="javascript:void(0);"
        id="{$SUB.TYPE_ID}"
        data-id="{$SUB.TYPE_ID}"
        ...
        ...
        data-callback="variantCallback"

            class="snap-item {if !$smarty.foreach.variant.last} mr-1{/if} border p-1 sub-button-item{if $SUB.TYPE_ID == $SELECTED && $IS_DEFAULT_VARIANT_ACTIVE|default:1 == 1} selected{/if}{if $SUB.IN_STOCK == false && $NEGATIVE_STOCK == 0} passive{/if}">
            <span>{$SUB.TYPE}</span>
        </a>
    {/foreach}
```




## Standart resim değişimi
```javascript title="javascript"
window["extraDiscount"]=function(el){
    let item=el.closest(".product-item, #product-detail");
    let dataEl=item.querySelector("[data-extra]");
    let cartPriceEl=item.querySelector(".cart-price");
    if (!dataEl) return false;
    let productPrice=item.querySelector(".product-price");
    let discountPercent=parseFloat(dataEl.getAttribute("data-extra"));
    let oldPrice=T.priceToFloat(productPrice.innerText);
    let cartPrice=oldPrice-(oldPrice*discountPercent*0.01)
    cartPriceEl? cartPriceEl.innerText=T.format(cartPrice) :"";
}



window["variantCallback"]=function(el){
    window["extraDiscount"](el)
}

``` 

